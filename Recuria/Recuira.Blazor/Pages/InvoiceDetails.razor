@page "/invoices/{InvoiceId:guid}"
@inject Recuria.Client.IRecuriaApiClient Api
@inject NavigationManager Nav

<PageTitle>Invoice Details</PageTitle>

<MudStack Spacing="3">
    <MudStack Row="true" Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
        <MudText Typo="Typo.h4">Invoice Details</MudText>
        <MudButton Variant="Variant.Outlined"  OnClick="@(() => Nav.NavigateTo("/invoices"))">
            Back to Invoices
        </MudButton>
    </MudStack>

    @if(!string.IsNullOrWhiteSpace(_error))
    {
        <MudAlert Severity="Severity.Error" Variant="Variant.Filled" Dense="true">
            @_error
        </MudAlert>
    }
    else if(_loading)
    {
        <MudSkeleton Height="220px" Width="100%"/>
    }
    else if(_invoice is null)
    {
        <MudAlert Severity="Severity.Warning" Dense="true">
            Invoice not found.
        </MudAlert>
    }
    else
    {
        
    }
    </MudStack>

@code {
    [Parameter] public Guid InvoiceId { get; set; }

    private string? _error;
    private bool _loading;
    private Recuria.Client.InvoiceDetailsDto? _invoice;
}
